/**
 * Kollus VG Controller Server (03-18-2025)
 * Copyright (c) 2025, Catenoid Incorporated. All rights reserved.
 *
 * @version 1.6.1 (3285)
 * @license ISC
 */


!function(a){"use strict";var b=function(b,c,d){var e=b,f=function(b,c,d,e){var g=b.split("."),h=g.shift();e=e||a.Modules.storage,e[h]=e[h]||{},g.length>0?f(g.join("."),c,d,e[h]):e[h][c]=d()};f(e,c,d)},c=function(b,c){if(void 0===b||void 0===c)throw new Error("Modules.get method must called with module name and namespace param.");for(var d=b.split("."),e=a.Modules.storage,f=0;f<d.length;f++){e=e[d[f]]}return e[c]};a.VgControllerException=function(a,b){this.message=a,this.code=b||-1,this.toString=function(){return this.message+" ["+this.code+"]"}},a.Modules=a.Modules||{},a.Modules.storage=a.Modules.storage||{},a.Modules.add=a.Modules.add||b,a.Modules.get=a.Modules.get||c}(window),function(a){Modules.add("com.kollus.vgcontroller","Config",a)}(function(){"use strict";return{debug_mode:!1,max_initialize_count:10,progress:{percent:0,position:0,duration:0},screen:"windowed",volume:50,muted:!1,jumpstep:10,scalemode:"letterbox",control_visibility:!0,controls_inactive_time:3,controlbar_progress_only:!1,controlbar_hide_playing:!1,video_visibility:!0,speed:1,playback_rates:"[0.5, 1, 1.5, 2]",topmost:!1,video:{brightness:0,contrast:0,saturation:0},subtitle_visibility:!0,subtitle_activity:!0,subtitle_shadow_rect:!1,subtitle_font_size:{default:16,min:12,max:80},subtitle_sub_font_size:{default:12,min:12,max:30},repeat_stat:{status:"cancel",start:0,end:0},permission_request_message:{ko:"동작 및 방향 에 관한 권한이 없어 자이로 기능이 동작하지 않습니다. 설정 > Safari > 고급 > 웹 사이트 데이터 에서 데이터를 삭제 하고 다시 시도하세요.",en:"The gyroscope is not working. Motion sensor access permission is required. Please remove the web site data(Settings > Safari > advanced > Website Data) and try again.",ja:'動作と方向"へのアクセス権限がないためジャイロスコープが動作しません。設定 > Safari > 詳細 > Webサイトデータからデータを削除して再度お試しください',zh:"陀螺仪功能不起作用，的因为没有动作与访问权限。在设置 > safari浏览器 > 高级 > 网站数据 清除数据后请再试。"}}}),function(a){Modules.add("com.kollus.utils","Util",a)}(function(){"use strict";return{isArray:function(a){return!!a&&"[object Array]"===Object.prototype.toString.call(a)},isObject:function(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)},isString:function(a){return"string"==typeof a},mergeObject:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},hasValueInObject:function(a,b){for(var c in a)if(b===a[c])return!0;return!1},queryString:function(a,b){for(var c,d=[],e=!1,f=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),g=0;g<f.length;g++)c=f[g].split("="),d.push(c[0]),d[c[0]]=c[1],c[0]===a&&(e=!0);return b?e:a?d[a]:d}}}),function(a){Modules.add("com.kollus.utils","Logger",a)}(function(){"use strict";var a,b,c=Modules.get("com.kollus.vgcontroller","Config"),d=!c||Modules.get("com.kollus.vgcontroller","Config").debug_mode,e=function(c,e,f,g){d&&(window.console||(console={log:function(){}}),f?e="%c["+f+"] %c"+e:a&&(e="%c["+a+"] %c"+e),b?console[c](e,b,"color: inherit"):(e.replace(/\%c/g,""),console[c](e)),g&&alert(e))};return{setPrefix:function(b){a=b},setStyle:function(a){b=a},log:function(a,b,c){e("log",a,b,c)},info:function(a,b,c){e("info",a,b,c)},warn:function(a,b,c){e("warn",a,b,c)},debug:function(a,b,c){e("debug",a,b,c)},error:function(a,b,c){e("error",a,b,c)}}}),function(a){Modules.add("com.kollus.vgcontroller","VgControllerLibrary",a),window.Modules.storage.com.kollus.vgcontroller.idx=window.Modules.storage.com.kollus.vgcontroller.idx||0}(function(){"use strict";var a=Modules.get("com.kollus.utils","Util"),b=Modules.get("com.kollus.utils","Logger"),c=function(b,c){if(void 0===window.postMessage)throw new VgControllerException("this browser does not support postMessage",-99);var d={V2:"v2",V3:"v3",V4:"v4",V5:"v5",FLASH:"flash",VIDEOJS:"videojs",KOLLUS:"kollus"},e={target_window:null,target_origin:"*",includeUserActivation:!1};if(c.hasOwnProperty("player_type")){if(!a.hasValueInObject(d,c.player_type))throw new VgControllerException("player type must be one of v2, v3, v4, v5 and flash.",-99)}else c.player_type=d.KOLLUS;this.player=b,this.version="1.6.1",this.build_version="3285",this.options=a.mergeObject(e,c),this.listeners={},this.buffered_data=[],this.player_type=c.player_type,this.uid=null,c.use_uid_check&&(this.uid=c.player_type+"-postmessage-"+window.Modules.storage.com.kollus.vgcontroller.idx,window.Modules.storage.com.kollus.vgcontroller.idx++)};return c.prototype.initialize=function(a){var b=this;this.is_initialized||(window.addEventListener?window.addEventListener("message",function(a){b.receive(a)},!1):window.attachEvent("onmessage",function(a){b.receive(a)})),this.is_initialized=!0,a(b.uid)},c.prototype.getVersion=function(){return this.version+" ("+this.build_version+")"},c.prototype.getPlayerType=function(){return this.player_type},c.prototype.getUID=function(){return this.uid},c.prototype.on=function(a,b){if("function"!=typeof b)throw new VgControllerException("listener is not callable.",-99);return void 0===this.listeners[a]&&(this.listeners[a]=[]),this.listeners[a].push(b),this},c.prototype.off=function(a){if(void 0!==this.listeners[a]){for(var b=0,c=this.listeners[a].length;b<c;b++)this.listeners[a][b]=null;this.listeners[a]=[]}return this},c.prototype.trigger=function(){if(arguments.length>=1){var a=Array.prototype.slice.call(arguments),b=a.shift();if(void 0!==this.listeners[b])for(var c=0,d=this.listeners[b].length;c<d;c++)this.listeners[b][c].apply(this,a)}},c.prototype.sendBufferedData=function(){var a=this.buffered_data.slice();for(this.buffered_data.length=0;a.length>0;){var b=a.shift();this.send(b[0],b[1],!0)}},c.prototype.pushDataToBuffer=function(a,c){return this.buffered_data.push([a,c]),b.log("[BUFFER PUSH] event_name: "+a+", data: "+JSON.stringify(c)),this.buffered_data},c.prototype.send=function(a,c,d){if(null===this.uid)return this.pushDataToBuffer(a,c);if(!d&&this.buffered_data.length>0)return this.pushDataToBuffer(a,c),this.sendBufferedData();if(null!==this.options.target_window){var e="client"===this.options.controller_type?"c_":"e_",f=d?"[BUFFER SEND]":"[SEND]";b.log(f+" event_name: "+e+a+", data: "+JSON.stringify(c)+", uid: "+this.uid);var g={event_name:e+a,uid:this.uid};return void 0!==c&&(g.data=c),1==this.options.target_window.postMessage.length?this.options.target_window.postMessage(JSON.stringify(g),{includeUserActivation:!0,targetOrigin:this.options.target_origin}):this.options.target_window.postMessage(JSON.stringify(g),this.options.target_origin)}return!1},c.prototype.receive=function(a){if("*"!==this.options.target_origin&&this.options.target_origin!==a.origin)return b.log("[RECEIVE] - event received, but origin not match. (target_origin: "+this.options.target_origin+", event.origin: "+a.origin+")"),!1;var c;try{c=JSON.parse(a.data)}catch(a){}if(void 0===c)return!1;try{var d=c.data;return b.log("[RECEIVE] event_name: "+c.event_name+", data: "+JSON.stringify(d)+", uid: "+this.uid),!0===this.options.use_uid_check&&this.uid!==c.uid?(b.log("- not matched uid. this.uid -> "+this.uid+", message.uid -> "+c.uid),!1):(!1===this.options.use_uid_check&&null===this.uid&&(b.log("- no use_uid_check. message.uid will be set to this.uid. mesasge.uid -> "+c.uid),this.uid=c.uid),this.options.is_child&&null===this.options.target_window&&(b.log("- this window is child. target_window will be set as event.source."),this.options.target_window=window.parent),this.trigger(c.event_name,d,a))}catch(a){throw new VgControllerException(a.message,-1)}},c.prototype.getEventListeners=function(){return this.listeners},c.prototype.removeAllEventListeners=function(){this.listeners={}},c}),function(a){Modules.add("com.kollus.vgcontroller","FlashController",a)}(function(){"use strict";var FlashController=function(a,b){this.vgControllerLibrary=a,this.player=b,this.enable_close_event=!1,this.close_callback_fn=null};return FlashController.prototype.enableCloseEvent=function(){return this.enable_close_event},FlashController.prototype.closeCallbackFn=function(){if(!this.close_callback_fn)return!1;eval(this.close_callback_fn)},FlashController.prototype.setPlayerEventListeners=function(a){var b={progress:"FP_Progress",screenchange:"FP_ScreenChange",volumechange:"FP_VolumeChange",muted:"FP_Muted",play:"FP_Play",pause:"FP_Pause",done:"FP_Done",ready:"FP_Ready",loaded:"FP_Loaded",jumpstepchange:"FP_JumpStepChange",scalemodechange:"FP_ScaleMode",error:"FP_Error"};for(var c in b)this.player.fp_addEventListener(c,b[c])},FlashController.prototype.setClientEventListeners=function(){var a=this.clientEventListeners();for(var b in a)this.vgControllerLibrary.on("c_"+b,a[b])},FlashController.prototype.playerEventListeners=function(){var a=this;return{FP_Progress:function(b){a.vgControllerLibrary.send("progress",b)},FP_ScreenChange:function(b){a.vgControllerLibrary.send("screenchange",b.screen)},FP_VolumeChange:function(b){a.vgControllerLibrary.send("volumechange",parseInt(b.volume))},FP_Muted:function(b){a.vgControllerLibrary.send("muted",b.muted)},FP_Play:function(){a.vgControllerLibrary.send("play",!0)},FP_Pause:function(){a.vgControllerLibrary.send("pause",!0)},FP_Done:function(){a.vgControllerLibrary.send("done",!0)},FP_Ready:function(){a.vgControllerLibrary.send("fetch_video_info",a.player.fp_get_video_info()),a.vgControllerLibrary.send("loaded",!0)},FP_Loaded:function(){a.vgControllerLibrary.send("ready",!0)},FP_JumpStepChange:function(b){a.vgControllerLibrary.send("jumpstepchange",b.jumpstep)},FP_ScaleMode:function(b){a.vgControllerLibrary.send("scalemodechange",b.scalemode)},FP_Error:function(b){a.vgControllerLibrary.send("error",b.code)}}},FlashController.prototype.clientEventListeners=function(){var a=this;return{play:function(b){null===b||!0===b?a.player.fp_play():a.player.fp_seek(b)},pause:function(){a.player.fp_pause()},set_volume:function(b){a.player.fp_set_volume(b)},mute:function(){a.player.fp_mute()},ff:function(){a.player.fp_ff()},rw:function(){a.player.fp_rw()},set_current_time:function(b){a.player.fp_seek(b)},set_jumpstep:function(b){a.player.fp_set_jumpstep(b)},set_control_visibility:function(b){a.player.fp_set_control_visibility(b)},set_scalemode:function(b){a.player.fp_scale_mode(b)},set_subtitle_visibility:function(b){a.player.fp_set_subtitle_visibility(b)},set_sectiontime:function(b){a.player.fp_set_section_time(b.type,b.value)},refresh_bookmark:function(){a.player.fp_refresh_bookmark()},set_enable_close_event:function(b){a.enable_close_event=b},set_close_callback_fn:function(b){a.close_callback_fn=b}}},FlashController}),function(a){Modules.add("com.kollus.vgcontroller","V2Controller",a)}(function(){"use strict";var Config=Modules.get("com.kollus.vgcontroller","Config"),V2Controller=function(a,b){this.vgControllerLibrary=a,this.player=b,this.enable_close_event=!1,this.close_callback_fn=null,this.state={}};return V2Controller.prototype.enableCloseEvent=function(){return this.enable_close_event},V2Controller.prototype.closeCallbackFn=function(){if(!this.close_callback_fn)return!1;eval(this.close_callback_fn)},V2Controller.prototype.setPlayerEventListeners=function(a){this.state={progress:{position:0,percent:0,duration:0},repeat:"cancel"};var b=this.playerEventListeners();for(var c in b)window["Kollus_"+c]=b[c]},V2Controller.prototype.setClientEventListeners=function(){var a=this.clientEventListeners();for(var b in a)this.vgControllerLibrary.on("c_"+b,a[b])},V2Controller.prototype.playerEventListeners=function(){var a=this;return{onStatus:function(b){switch(1*b){case 1:a.vgControllerLibrary.send("open",!0);break;case 2:a.vgControllerLibrary.send("loaded",!0);break;case 3:a.vgControllerLibrary.send("play",!0);break;case 4:a.vgControllerLibrary.send("pause",!0);break;case 5:a.vgControllerLibrary.send("stop",!0);break;case 6:a.vgControllerLibrary.send("done",!0);break;case 7:a.vgControllerLibrary.send("screenchange","windowed");break;case 8:a.vgControllerLibrary.send("screenchange","fullscreen");break;case 12:var c=!!a.player.getTopMost();a.vgControllerLibrary.send("topmostchange",c);break;case 13:var d={brightness:a.player.getBrightness(),contrast:a.player.getContrast(),saturation:a.player.getSaturation()};a.vgControllerLibrary.send("videosettingchange",d);break;case 14:var e=a.player.getJumpstep();a.vgControllerLibrary.send("jumpstepchange",e);break;case 15:if(void 0!==a.player.get_player_id&&a.vgControllerLibrary.send("fetch_player_id",a.player.get_player_id()),void 0!==a.player.get_hardware_id&&a.vgControllerLibrary.send("fetch_hardware_id",a.player.get_hardware_id()),void 0!==a.player.get_video_info&&a.vgControllerLibrary.send("fetch_video_info",a.player.get_video_info()),void 0!==a.player.getJumpstep){var f=1*a.player.getJumpstep();1*Config.jumpstep!==f&&a.vgControllerLibrary.send("jumpstepchange",f)}a.vgControllerLibrary.send("ready",!0);break;case 17:a.vgControllerLibrary.send("close",!0);break;case 19:case 20:case 21:a.state.repeat=1*b==19?"start":1*b==20?"end":"cancel",a.vgControllerLibrary.send("repeat_stat_change",{status:a.state.repeat})}},onProgress:function(b,c,d){var e={position:parseInt(c),percent:parseInt(b),duration:parseInt(d)};a.state.progress=e,a.vgControllerLibrary.send("progress",e)},onVolume:function(b){a.vgControllerLibrary.send("volumechange",1*b)},onSpeed:function(b){b=parseInt(b)/10,a.vgControllerLibrary.send("speedchange",b)},onErrorMsg:function(b,c,d){a.vgControllerLibrary.send("error",{code:b,message:c,param:d})}}},V2Controller.prototype.clientEventListeners=function(){var a=this;return{play:function(b){void 0!==b&&null!==b&&!0!==b?(a.player.setSeek(1*b),a.player.setPlay()):a.player.setPlay()},pause:function(){a.player.setPause()},set_volume:function(b){a.player.setVolumeAt(1*b)},mute:function(){a.player.setMute()},ff:function(){var b=a.player.getJumpstep(),c=a.state.progress.position+b;c>a.state.progress.duration&&(c=Math.floor(a.state.progress.duration)-1),a.player.setSeek(c)},rw:function(){var b=a.player.getJumpstep(),c=a.state.progress.position-b;c<0&&(c=0),a.player.setSeek(c)},set_current_time:function(b){a.player.setSeek(b)},set_jumpstep:function(b){a.player.setJumpstep(1*b)},set_control_visibility:function(b){a.player.menuPopup(b?1:0)},set_screen:function(){a.player.setFullScreen()},set_topmost:function(b){a.player.setTopMost(b?1:0)},set_brightness:function(b){a.player.setBrightness(b)},set_contrast:function(b){a.player.setContrast(b)},set_saturation:function(b){a.player.setSaturation(b)},set_speed:function(b){a.player.setSpeedAt(parseFloat(b))},set_sectiontime:function(b){a.player.setSectionTime(b.type,b.value)},refresh_bookmark:function(){a.player.refresh_bookmark()},set_subtitle_visibility:function(b){a.player.setSubtitle(b?1:0)},set_lms_check:function(){a.player.setLMSCheck()},set_keyframe_seek_default:function(b){a.player.setkeyframeSeekDefault(b)},set_short_key:function(b){a.player.setShortKey(b)},set_enable_close_event:function(b){a.enable_close_event=b},set_close_callback_fn:function(b){a.close_callback_fn=b},set_controls_inactive_time:function(b){a.player.setShowBarSec(b)},get_lms_data:function(){var b,c=a.player.get_lms_json();if(c){var d=JSON.parse(c);b=d.error&&0!==d.code?null:d}a.vgControllerLibrary.send("fetch_get_lms_data",b)},get_bookmark_count:function(){var b=a.player.get_bookmark_size();b=JSON.parse(b).subtitle_count;var c={index:b.index,user:b.bookmark};a.vgControllerLibrary.send("fetch_get_bookmark_count",c)},set_subtitle_shadow_rect:function(b){a.player.setSubtitleShadowRect(b?1:0)},set_subtitle_activity:function(b){a.player.set_subtitle_activity(b?1:0)},set_controlbar_progress_only:function(b){a.player.menuPopup(b?4:1)},set_current_subtitle:function(b){a.player.set_current_subtitle(b)},set_ratio:function(b){var c=0;switch(b){case"contain":c=0;break;case"fill":c=1;break;case"enlargement":c=2}a.player.set_aspect_ratio(c,0,0)},set_subtitle:function(b){a.player.openSubtitleUrl(b.value)}}},V2Controller}),function(a){Modules.add("com.kollus.vgcontroller","V3Controller",a)}(function(){"use strict";var V3Controller=function(a,b){this.vgControllerLibrary=a,this.player=b,this.enable_close_event=!1,this.close_callback_fn=null};return V3Controller.prototype.enableCloseEvent=function(){return this.enable_close_event},V3Controller.prototype.closeCallbackFn=function(){if(!this.close_callback_fn)return!1;eval(this.close_callback_fn)},V3Controller.prototype.setPlayerEventListeners=function(a){var b=this.playerEventListeners();for(var c in b){(void 0!==a?a:this.player).on(c,b[c])}},V3Controller.prototype.setClientEventListeners=function(){var a=this.clientEventListeners();for(var b in a)this.vgControllerLibrary.on("c_"+b,a[b])},V3Controller.prototype.playerEventListeners=function(){var a=this;return{v3_progress:function(b){b.stopPropagation(),a.vgControllerLibrary.send("progress",b.detail)},v3_screenchange:function(b){b.stopPropagation(),a.vgControllerLibrary.send("screenchange",b.detail.screen)},v3_volumechange:function(b){b.stopPropagation(),a.vgControllerLibrary.send("volumechange",b.detail.volume)},v3_muted:function(b){b.stopPropagation(),a.vgControllerLibrary.send("muted",b.detail.muted)},v3_play:function(b){b.stopPropagation(),a.vgControllerLibrary.send("play",!0)},v3_pause:function(b){b.stopPropagation(),a.vgControllerLibrary.send("pause",!0)},v3_done:function(b){b.stopPropagation(),a.vgControllerLibrary.send("done",!0)},v3_ready:function(b){b.stopPropagation(),a.vgControllerLibrary.send("fetch_hardware_id",a.player.get_hardware_id()),a.vgControllerLibrary.send("fetch_player_id",a.player.get_player_id()),a.vgControllerLibrary.send("ready",!0),a.player.get_next_episode_auto&&a.vgControllerLibrary.send("fetch_get_next_episode_auto",a.player.get_next_episode_auto())},v3_loaded:function(b){b.stopPropagation(),a.vgControllerLibrary.send("fetch_video_info",a.player.get_video_info()),a.vgControllerLibrary.send("loaded",!0)},v3_jumpstepchange:function(b){b.stopPropagation(),a.vgControllerLibrary.send("jumpstepchange",b.detail.jumpstep)},v3_speedchange:function(b){b.stopPropagation(),a.vgControllerLibrary.send("speedchange",b.detail.speed)},v3_playbackrateschange:function(b){b.stopPropagation(),a.vgControllerLibrary.send("playbackrateschange",b.detail.playback_rates)},v3_html5_video_supported:function(b){b.stopPropagation(),a.vgControllerLibrary.send("html5_video_supported",b.detail)},v3_subtitle_load_done:function(b){a.vgControllerLibrary.send("subtitle_load_done")},v3_subtitlevisibilitychange:function(b){b.stopPropagation(),a.vgControllerLibrary.send("subtitlevisibilitychange",b.detail.subtitle_visibility)},v3_subtitlesubvisibilitychange:function(b){b.stopPropagation(),a.vgControllerLibrary.send("subtitlesubvisibilitychange",b.detail.subtitle_visibility)},v3_error:function(b){b.stopPropagation(),a.vgControllerLibrary.send("error",b.detail)},v3_fetch_lms_data:function(b){b.stopPropagation();var c=b.detail&&b.detail.error&&0!==b.detail.code?null:b.detail;a.vgControllerLibrary.send("fetch_get_lms_data",c)},v3_get_bookmark_count:function(b){a.vgControllerLibrary.send("fetch_get_bookmark_count",b.detail)},v3_repeat_stat_change:function(b){a.vgControllerLibrary.send("repeat_stat_change",b.detail)},v3_set_ratio:function(b){a.vgControllerLibrary.send("set_ratio",b)},v3_subtitle_sizechange:function(b){a.vgControllerLibrary.send("subtitle_sizechange",b.detail.size)},v3_subtitle_sub_sizechange:function(b){a.vgControllerLibrary.send("subtitle_sub_sizechange",b.detail.size)},v3_subtitle_shadow_rect_change:function(b){a.vgControllerLibrary.send("subtitle_shadow_rect_change",b.detail.is_rect)},v3_subtitle_sub_shadow_rect_change:function(b){a.vgControllerLibrary.send("subtitle_sub_shadow_rect_change",b.detail.is_rect)},v3_next_episode_change:function(b){a.vgControllerLibrary.send("next_episode_change",b.detail)},v3_next_episode_auto_change:function(b){a.vgControllerLibrary.send("next_episode_auto_change",b.detail)},v3_next_episode_requested:function(b){a.vgControllerLibrary.send("next_episode_requested",b.detail)},v3_bookmark_change:function(b){a.vgControllerLibrary.send("bookmark_change",b.detail)},v3_picture_in_picture_entered:function(b){a.vgControllerLibrary.send("picture_in_picture_entered")},v3_picture_in_picture_leaved:function(b){a.vgControllerLibrary.send("picture_in_picture_leaved")}}},V3Controller.prototype.clientEventListeners=function(){var a=this;return{play:function(b){void 0!==b&&null!==b&&!0!==b?a.player.play(b):a.player.play()},pause:function(){a.player.pause()},set_volume:function(b){a.player.set_volume(b)},mute:function(){a.player.mute()},ff:function(){a.player.ff()},rw:function(){a.player.rw()},set_current_time:function(b){a.player.set_current_time(b)},set_jumpstep:function(b){a.player.set_jumpstep(b)},set_control_visibility:function(b){a.player.set_control_visibility(b)},set_video_visibility:function(b){a.player.set_video_visibility(b)},set_screen:function(){a.player.set_fullscreen()},set_speed:function(b){a.player.set_speed(1*b)},set_playback_rates:function(b){a.player.set_playback_rates(b)},set_sectiontime:function(b){a.player.set_section_time(b.type,b.value)},refresh_bookmark:function(){a.player.refresh_bookmark()},enable_fullscreen_button:function(){a.player.fullscreen_enable()},set_subtitle_visibility:function(b){a.player.set_subtitle_visibility(b)},set_subtitle_sub_visibility:function(b){a.player.set_subtitle_sub_visibility(b)},set_enable_close_event:function(b){a.enable_close_event=b},set_close_callback_fn:function(b){a.close_callback_fn=b},set_controls_inactive_time:function(b){a.player.set_controls_inactive_time(b)},get_lms_data:function(){a.player.get_lms_data()},get_bookmark_count:function(){a.player.get_bookmark_count()},set_subtitle_shadow_rect:function(b){a.player.set_subtitle_shadow_rect(b)},set_subtitle_sub_shadow_rect:function(b){a.player.set_subtitle_sub_shadow_rect(b)},set_subtitle_activity:function(b){a.player.set_subtitle_activity(b)},set_controls_activity:function(b){a.player.set_controls_activity(b)},set_controlbar_progress_only:function(b){a.player.set_controlbar_progress_only(b)},set_current_subtitle:function(b){a.player.set_current_subtitle(b)},set_current_subtitle_sub:function(b){a.player.set_current_subtitle_sub(b)},dispose:function(){a.player.dispose()},set_ratio:function(b){a.player.setObjectFit(b)},set_subtitle_font_size:function(b){a.player.set_subtitle_font_size(parseInt(b))},set_subtitle_sub_font_size:function(b){a.player.set_subtitle_sub_font_size(parseInt(b))},set_custom_error:function(b){a.player.set_custom_error(b.code,b.message,b.param)},set_subtitle:function(b){var c={text_track_type:b.text_track_type||"vtt",name:b.label||"Untitled",language:b.language||"ko"};b.value.indexOf(".vtt")>0||b.value.indexOf(".srt")>0?(c.url=b.value,a.player.load_subtitle([c])):(c.rawData=b.value,a.player.set_subtitle(c))},toggle_pip:function(){a.player.toggle_pip()},set_fullscreen_state:function(b){a.player.set_fullscreen_state(b)},set_fullscreen_element:function(){a.player.set_fullscreen_element()},hide_controlbar_button:function(b){a.player.hide_controlbar_button(b)},set_next_episode_auto:function(b){a.player.set_next_episode_auto(b)},set_bookmark_add_visivility:function(b){a.player.set_bookmark_add_visivility(b)},set_bookmark_update_visivility:function(b){a.player.set_bookmark_update_visivility(b)},set_bookmark_add_activation:function(b){a.player.set_bookmark_add_activation(b)},set_bookmark_update_activation:function(b){a.player.set_bookmark_update_activation(b)},set_bookmark_add_activity:function(b){a.player.set_bookmark_add_activation(b)},set_bookmark_update_activity:function(b){a.player.set_bookmark_update_activation(b)},set_setting_panel_activity:function(b){a.player.set_setting_panel_activity(b)}}},V3Controller}),function(a){Modules.add("com.kollus.vgcontroller","V4Controller",a)}(function(){"use strict";var V4Controller=function(a,b){this.vgControllerLibrary=a,this.player=b,this.enable_close_event=!1,this.close_callback_fn=null};return V4Controller.prototype.enableCloseEvent=function(){return this.enable_close_event},V4Controller.prototype.closeCallbackFn=function(){if(!this.close_callback_fn)return!1;try{eval("("+this.close_callback_fn+")();")}catch(a){}},V4Controller.prototype.setPlayerEventListeners=function(a){var b=this.playerEventListeners();for(var c in b){(void 0!==a?a:this.player).on(c,b[c])}},V4Controller.prototype.setClientEventListeners=function(){var a=this.clientEventListeners();for(var b in a)this.vgControllerLibrary.on("c_"+b,a[b])},V4Controller.prototype.playerEventListeners=function(){var a=this;return{v4_html5_video_supported:function(b){a.vgControllerLibrary.send("html5_video_supported",b.detail)},v4_progress:function(b){a.vgControllerLibrary.send("progress",b.detail)},v4_screenchange:function(b){a.vgControllerLibrary.send("screenchange",b.detail.screen)},v4_volumechange:function(b){a.vgControllerLibrary.send("volumechange",b.detail.volume)},v4_muted:function(b){a.vgControllerLibrary.send("muted",b.detail.muted)},v4_play:function(b){a.vgControllerLibrary.send("play",!0)},v4_pause:function(b){a.vgControllerLibrary.send("pause",!0)},v4_seek_start:function(b){a.vgControllerLibrary.send("seek_start",!0)},v4_seeking:function(b){a.vgControllerLibrary.send("seeking",!0)},v4_seeked:function(b){a.vgControllerLibrary.send("seeked",!0)},v4_done:function(b){a.vgControllerLibrary.send("done",!0)},v4_loaded:function(b){a.vgControllerLibrary.send("fetch_video_info",a.player.get_video_info()),a.vgControllerLibrary.send("loaded",!0)},v4_ready:function(b){a.vgControllerLibrary.send("ready",!0),a.player.getSkin&&a.vgControllerLibrary.send("fetch_custom_skin",a.player.getSkin()),a.player.get_next_episode_auto&&a.vgControllerLibrary.send("fetch_get_next_episode_auto",a.player.get_next_episode_auto())},v4_jumpstepchange:function(b){a.vgControllerLibrary.send("jumpstepchange",b.detail.jumpstep)},v4_speedchange:function(b){a.vgControllerLibrary.send("speedchange",b.detail.speed)},v4_playbackrateschange:function(b){a.vgControllerLibrary.send("playbackrateschange",b.detail.playback_rates)},v4_user_active_changed:function(b){a.vgControllerLibrary.send("user_active_changed",b.detail.active)},v4_waiting:function(b){a.vgControllerLibrary.send("waiting",b.detail)},v4_error:function(b){a.vgControllerLibrary.send("error",b.detail)},v4_get_lms_data:function(b){a.vgControllerLibrary.send("fetch_get_lms_data",b.detail)},v4_get_bookmark_count:function(b){a.vgControllerLibrary.send("fetch_get_bookmark_count",b.detail)},v4_hls_frag_data:function(b){a.vgControllerLibrary.send("fetch_hls_frag_data",b.detail)},v4_hls_manifest_loaded:function(b){a.vgControllerLibrary.send("fetch_hls_manifest_loaded",b.detail)},v4_dash_manifest_loaded:function(b){a.vgControllerLibrary.send("fetch_dash_manifest_loaded",b.detail)},v4_repeat_stat_change:function(b){a.vgControllerLibrary.send("repeat_stat_change",b.detail)},v4_set_ratio:function(b){a.vgControllerLibrary.send("set_ratio",b)},v4_check_device_orientation:function(b){a.vgControllerLibrary.send("check_device_orientation")},v4_check_device_motion:function(b){a.vgControllerLibrary.send("check_device_motion")},v4_subtitle_load_done:function(b){a.vgControllerLibrary.send("subtitle_load_done")},v4_subtitle_visibility_change:function(b){a.vgControllerLibrary.send("subtitlevisibilitychange",b.detail.visible)},v4_subtitle_sub_visibility_change:function(b){a.vgControllerLibrary.send("subtitlesubvisibilitychange",b.detail.visible)},v4_subtitle_size_change:function(b){a.vgControllerLibrary.send("subtitle_sizechange",b.detail.size)},v4_subtitle_sub_size_change:function(b){a.vgControllerLibrary.send("subtitle_sub_sizechange",b.detail.size)},v4_subtitle_shadow_rect_change:function(b){a.vgControllerLibrary.send("subtitle_shadow_rect_change",b.detail.is_rect)},v4_subtitle_sub_shadow_rect_change:function(b){a.vgControllerLibrary.send("subtitle_sub_shadow_rect_change",b.detail.is_rect)},v4_chat_addr_found:function(b){a.vgControllerLibrary.send("fetch_get_chat_connect_address",b.detail)},v4_chat_info_found:function(b){a.vgControllerLibrary.send("fetch_chat_info",b.detail)},v4_custom_skin_changed:function(b){a.vgControllerLibrary.send("custom_skin_changed",b.detail)},v4_custom_skin_v3_changed:function(b){a.vgControllerLibrary.send("custom_skin_v3_changed",b.detail)},v4_close:function(b){a.vgControllerLibrary.send("close",!0)},v4_next_episode_change:function(b){a.vgControllerLibrary.send("next_episode_change",b.detail)},v4_next_episode_auto_change:function(b){a.vgControllerLibrary.send("next_episode_auto_change",b.detail)},v4_next_episode_requested:function(b){a.vgControllerLibrary.send("next_episode_requested",b.detail)},v4_bookmark_change:function(b){a.vgControllerLibrary.send("bookmark_change",b.detail)},v4_picture_in_picture_entered:function(b){a.vgControllerLibrary.send("picture_in_picture_entered")},v4_picture_in_picture_leaved:function(b){a.vgControllerLibrary.send("picture_in_picture_leaved")}}},V4Controller.prototype.clientEventListeners=function(){var a=this;return{play:function(b){void 0!==b&&null!==b&&!0!==b?a.player.play(b):a.player.play()},pause:function(){a.player.pause()},set_volume:function(b){a.player.set_volume(b)},mute:function(){a.player.mute_toggle()},ff:function(){a.player.ff()},rw:function(){a.player.rw()},set_current_time:function(b){a.player.set_current_time(b)},set_jumpstep:function(b){a.player.set_jumpstep(b)},set_control_visibility:function(b){a.player.set_control_visibility(b)},set_video_visibility:function(b){a.player.set_video_visibility(b)},set_screen:function(){a.player.set_fullscreen()},set_speed:function(b){a.player.set_speed(1*b)},toggle_pip:function(){a.player.toggle_pip()},set_playback_rates:function(b){a.player.set_playback_rates(b)},set_sectiontime:function(b){var c=["cancel","start","end"];a.player.set_repeat(c[b.type],b.value)},refresh_bookmark:function(){a.player.refresh_bookmark()},enable_fullscreen_button:function(){a.player.fullscreen_enable()},get_lms_data:function(){a.player.get_lms_data()},get_bookmark_count:function(){a.player.get_bookmark_count()},set_controls_inactive_time:function(b){a.player.set_controls_inactive_time(b)},set_enable_close_event:function(b){a.enable_close_event=b},set_close_callback_fn:function(b){a.close_callback_fn=decodeURI(b)},set_subtitle_visibility:function(b){a.player.set_subtitle_visibility(b)},set_subtitle_sub_visibility:function(b){a.player.set_subtitle_visibility(b,"sub")},set_subtitle_font_size:function(b){a.player.set_subtitle_font_size(b)},set_subtitle_sub_font_size:function(b){a.player.set_subtitle_font_size(b,"sub")},set_subtitle_shadow_rect:function(b){a.player.set_subtitle_shadow_rect(b)},set_subtitle_sub_shadow_rect:function(b){a.player.set_subtitle_shadow_rect(b,"sub")},set_subtitle_activity:function(b){a.player.set_subtitle_activity(b)},set_current_subtitle:function(b){a.player.set_current_subtitle(b)},set_current_subtitle_sub:function(b){a.player.set_current_subtitle(b,"sub")},set_subtitle:function(b){var c={text_track_type:b.text_track_type||"vtt",subtitle_name:b.label||"Untitled",subtitle_language_code:b.language||"ko",is_sub:!1};b.value.indexOf(".vtt")>0||b.value.indexOf(".srt")>0?(c.subtitle_url=b.value,a.player.load_subtitle([c])):(c.rawData=b.value,a.player.set_subtitle(c))},set_controls_activity:function(b){a.player.set_controls_activity(b)},set_controlbar_progress_only:function(b){a.player.set_controlbar_progress_only(b)},set_controlbar_hide_playing:function(b){a.player.set_controlbar_hide_playing(b)},dispose:function(){a.player.dispose()},set_ratio:function(b){a.player.setObjectFit(b)},set_device_orientation:function(b){a.player.set_device_orientation(b)},set_device_motion:function(b){a.player.set_device_motion(JSON.parse(b))},set_custom_error:function(b){a.player.set_custom_error(b.code,b.message,b.param)},set_close_button:function(b){a.player.set_close_button(b)},set_point_color:function(b){a.player.set_point_color(b)},notify_visibleheight_changed:function(b){a.player.notify_visibleheight_changed(b)},hide_controlbar_button:function(b){a.player.hide_controlbar_button(b)},set_chat_config:function(b){a.player.set_chat_config(b)},set_bitrate:function(b){a.player.set_bitrate(b)},set_fullscreen_state:function(b){
a.player.set_fullscreen_state(b)},set_fullscreen_element:function(){a.player.set_fullscreen_element()},set_custom_skin:function(b){var c={skin:JSON.parse(b)};a.player.showSkin(c)},set_next_episode_auto:function(b){a.player.set_next_episode_auto(b)},set_bookmark_add_visivility:function(b){a.player.set_bookmark_add_visivility(b)},set_bookmark_update_visivility:function(b){a.player.set_bookmark_update_visivility(b)},set_bookmark_add_activation:function(b){a.player.set_bookmark_add_activation(b)},set_bookmark_update_activation:function(b){a.player.set_bookmark_update_activation(b)},set_bookmark_add_activity:function(b){a.player.set_bookmark_add_activation(b)},set_bookmark_update_activity:function(b){a.player.set_bookmark_update_activation(b)},set_setting_panel_activity:function(b){a.player.set_setting_panel_activity(b)}}},V4Controller}),function(a){Modules.add("com.kollus.vgcontroller","V5Controller",a)}(function(){"use strict";var V5Controller=function(a,b){this.vgControllerLibrary=a,this.player=b,this.enable_close_event=!1,this.close_callback_fn=null};return V5Controller.prototype.enableCloseEvent=function(){return this.enable_close_event},V5Controller.prototype.closeCallbackFn=function(){if(!this.close_callback_fn)return!1;try{eval("("+this.close_callback_fn+")();")}catch(a){}},V5Controller.prototype.setPlayerEventListeners=function(a){var b=this.playerEventListeners();for(var c in b){(void 0!==a?a:this.player).on(c,b[c])}},V5Controller.prototype.setClientEventListeners=function(){var a=this.clientEventListeners();for(var b in a)this.vgControllerLibrary.on("c_"+b,a[b])},V5Controller.prototype.playerEventListeners=function(){var a=this;return{html5_video_supported:function(b){a.vgControllerLibrary.send("html5_video_supported",b.detail)},progress:function(b){a.vgControllerLibrary.send("progress",b.detail)},screenchange:function(b){a.vgControllerLibrary.send("screenchange",b.detail.screen)},volumechange:function(b){a.vgControllerLibrary.send("volumechange",b.detail.volume)},muted:function(b){a.vgControllerLibrary.send("muted",b.detail.muted)},play:function(b){a.vgControllerLibrary.send("play",!0)},pause:function(b){a.vgControllerLibrary.send("pause",!0)},seek_start:function(b){a.vgControllerLibrary.send("seek_start",!0)},seeking:function(b){a.vgControllerLibrary.send("seeking",!0)},seeked:function(b){a.vgControllerLibrary.send("seeked",!0)},done:function(b){a.vgControllerLibrary.send("done",!0)},loaded:function(b){a.vgControllerLibrary.send("fetch_video_info",a.player.get_video_info()),a.vgControllerLibrary.send("loaded",!0)},ready:function(b){a.vgControllerLibrary.send("ready",!0),a.player.getSkin&&a.vgControllerLibrary.send("fetch_custom_skin",a.player.getSkin()),a.player.get_next_episode_auto&&a.vgControllerLibrary.send("fetch_get_next_episode_auto",a.player.get_next_episode_auto())},jumpstepchange:function(b){a.vgControllerLibrary.send("jumpstepchange",b.detail.jumpstep)},speedchange:function(b){a.vgControllerLibrary.send("speedchange",b.detail.speed)},playbackrateschange:function(b){a.vgControllerLibrary.send("playbackrateschange",b.detail.playback_rates)},user_active_changed:function(b){a.vgControllerLibrary.send("user_active_changed",b.detail.active)},waiting:function(b){a.vgControllerLibrary.send("waiting",b.detail)},error:function(b){a.vgControllerLibrary.send("error",b.detail)},get_lms_data:function(b){a.vgControllerLibrary.send("fetch_get_lms_data",b.detail)},get_bookmark_count:function(b){a.vgControllerLibrary.send("fetch_get_bookmark_count",b.detail)},hls_frag_data:function(b){a.vgControllerLibrary.send("fetch_hls_frag_data",b.detail)},hls_manifest_loaded:function(b){a.vgControllerLibrary.send("fetch_hls_manifest_loaded",b.detail)},dash_manifest_loaded:function(b){a.vgControllerLibrary.send("fetch_dash_manifest_loaded",b.detail)},repeat_stat_change:function(b){a.vgControllerLibrary.send("repeat_stat_change",b.detail)},set_ratio:function(b){a.vgControllerLibrary.send("set_ratio",b)},check_device_orientation:function(b){a.vgControllerLibrary.send("check_device_orientation")},check_device_motion:function(b){a.vgControllerLibrary.send("check_device_motion")},subtitle_load_done:function(b){a.vgControllerLibrary.send("subtitle_load_done")},subtitle_visibility_change:function(b){a.vgControllerLibrary.send("subtitlevisibilitychange",b.detail.visible)},subtitle_sub_visibility_change:function(b){a.vgControllerLibrary.send("subtitlesubvisibilitychange",b.detail.visible)},subtitle_size_change:function(b){a.vgControllerLibrary.send("subtitle_sizechange",b.detail.size)},subtitle_sub_size_change:function(b){a.vgControllerLibrary.send("subtitle_sub_sizechange",b.detail.size)},subtitle_shadow_rect_change:function(b){a.vgControllerLibrary.send("subtitle_shadow_rect_change",b.detail.is_rect)},subtitle_sub_shadow_rect_change:function(b){a.vgControllerLibrary.send("subtitle_sub_shadow_rect_change",b.detail.is_rect)},chat_addr_found:function(b){a.vgControllerLibrary.send("fetch_get_chat_connect_address",b.detail)},chat_info_found:function(b){a.vgControllerLibrary.send("fetch_chat_info",b.detail)},custom_skin_changed:function(b){a.vgControllerLibrary.send("custom_skin_changed",b.detail),a.vgControllerLibrary.send("custom_skin_v3_changed",b.detail)},close:function(b){a.vgControllerLibrary.send("close",!0)},next_episode_auto_change:function(b){a.vgControllerLibrary.send("next_episode_auto_change",b.detail)},next_episode_requested:function(b){a.vgControllerLibrary.send("next_episode_requested",b.detail)},bookmark_change:function(b){a.vgControllerLibrary.send("bookmark_change",b.detail)},quality_levels_loaded:function(b){for(var c=[],d=b.detail.qualityLevels,e=0;e<d.length;e++){var f=d[e];c.push({bitrate:f.bitrate,width:f.width,height:f.height})}a.vgControllerLibrary.send("quality_levels_loaded",c)},picture_in_picture_entered:function(b){a.vgControllerLibrary.send("picture_in_picture_entered")},picture_in_picture_leaved:function(b){a.vgControllerLibrary.send("picture_in_picture_leaved")}}},V5Controller.prototype.clientEventListeners=function(){var a=this;return{play:function(b){void 0!==b&&null!==b&&!0!==b?a.player.play(b):a.player.play()},pause:function(){a.player.pause()},set_volume:function(b){a.player.setVolume(b)},mute:function(){a.player.muteToggle()},ff:function(){a.player.ff()},rw:function(){a.player.rw()},set_current_time:function(b){a.player.setCurrentTime(b)},set_jumpstep:function(b){a.player.setJumpstep(b)},set_control_visibility:function(b){a.player.setControlVisibility(b)},set_video_visibility:function(b){a.player.setVideoVisibility(b)},set_screen:function(){a.player.setFullscreen()},set_speed:function(b){a.player.setSpeed(1*b)},toggle_pip:function(){a.player.togglePip()},set_playback_rates:function(b){a.player.setPlaybackRates(b)},set_sectiontime:function(b){var c=["cancel","start","end"];a.player.setRepeat(c[b.type],b.value)},refresh_bookmark:function(){a.player.refreshBookmark()},enable_fullscreen_button:function(){a.player.fullscreenEnable()},get_lms_data:function(){a.player.getLmsData()},get_bookmark_count:function(){a.player.getBookmarkCount()},set_controls_inactive_time:function(b){a.player.setControlsInactiveTime(b)},set_enable_close_event:function(b){a.enable_close_event=b},set_close_callback_fn:function(b){a.close_callback_fn=decodeURI(b)},set_subtitle_visibility:function(b){a.player.setSubtitleVisibility(b)},set_subtitle_sub_visibility:function(b){a.player.setSubtitleVisibility(b,"sub")},set_subtitle_font_size:function(b){a.player.setSubtitleFontSize(b)},set_subtitle_sub_font_size:function(b){a.player.setSubtitleFontSize(b,"sub")},set_subtitle_shadow_rect:function(b){a.player.setSubtitleShadowRect(b)},set_subtitle_sub_shadow_rect:function(b){a.player.setSubtitleShadowRect(b,"sub")},set_subtitle_activity:function(b){a.player.setSubtitleActivity(b)},set_current_subtitle:function(b){a.player.setCurrentSubtitle(b)},set_current_subtitle_sub:function(b){a.player.setCurrentSubtitle(b,"sub")},set_subtitle:function(b){var c={text_track_type:b.text_track_type||"vtt",subtitle_name:b.label||"Untitled",subtitle_language_code:b.language||"ko",is_sub:!1};b.value.indexOf(".vtt")>0||b.value.indexOf(".srt")>0?(c.subtitle_url=b.value,a.player.loadSubtitle([c])):(c.rawData=b.value,a.player.setSubtitle(c))},set_controls_activity:function(b){a.player.setControlsActivity(b)},set_controlbar_progress_only:function(b){a.player.setControlbarProgressOnly(b)},set_controlbar_hide_playing:function(b){a.player.setControlbarHidePlaying(b)},dispose:function(){a.player.dispose()},set_ratio:function(b){a.player.setObjectFit(b)},set_device_orientation:function(b){a.player.setDeviceOrientation(b)},set_device_motion:function(b){a.player.setDeviceMotion(JSON.parse(b))},set_custom_error:function(b){a.player.setCustomError(b.code,b.message,b.param)},set_close_button:function(b){a.player.setCloseButton(b)},set_point_color:function(b){a.player.setPointColor(b)},notify_visibleheight_changed:function(b){a.player.notifyVisibleheightChanged(b)},hide_controlbar_button:function(b){a.player.hideControlbarButton(b)},set_chat_config:function(b){a.player.setChatConfig(b)},set_bitrate:function(b){a.player.setBitrate(b)},set_fullscreen_state:function(b){a.player.setFullscreenState(b)},set_fullscreen_element:function(){a.player.setFullscreenElement()},set_custom_skin:function(b){var c={skin:JSON.parse(b)};a.player.showSkin(c)},set_next_episode_auto:function(b){a.player.setNextEpisodeAuto(b)},set_bookmark_add_visivility:function(b){a.player.setBookmarkAddActivity(b)},set_bookmark_update_visivility:function(b){a.player.setBookmarkUpdateActivity(b)},set_bookmark_add_activation:function(b){a.player.setBookmarkAddActivity(b)},set_bookmark_update_activation:function(b){a.player.setBookmarkUpdateActivity(b)},set_bookmark_add_activity:function(b){a.player.setBookmarkAddActivity(b)},set_bookmark_update_activity:function(b){a.player.setBookmarkUpdateActivity(b)},set_setting_panel_activity:function(b){a.player.setSettingPanelActivity(b)}}},V5Controller}),function(a){Modules.add("com.kollus.vgcontroller","VideojsController",a)}(function(){"use strict";var a=function(a,b){this.vgControllerLibrary=a,this.player=b};return a.prototype.setPlayerEventListeners=function(a){var b=this.playerEventListeners();for(var c in b){(void 0!==a?a:this.player).on(c,b[c])}},a.prototype.setClientEventListeners=function(){var a=this.clientEventListeners();for(var b in a)this.vgControllerLibrary.on("c_"+b,a[b])},a.prototype.playerEventListeners=function(){var a=this;return{timeupdate:function(b){b.stopPropagation();var c=a.player.currentTime(),d=a.player.duration(),e=parseInt(c/d*100);a.vgControllerLibrary.send("progress",{percent:e,position:c,duration:d})},volumechange:function(b){b.stopPropagation(),a.vgControllerLibrary.send("volumechange",100*a.player.volume())},muted:function(b){b.stopPropagation(),a.vgControllerLibrary.send("muted",a.player.muted())},play:function(b){b.stopPropagation(),a.vgControllerLibrary.send("play",!0)},pause:function(b){b.stopPropagation(),a.vgControllerLibrary.send("pause",!0)},done:function(b){b.stopPropagation(),a.vgControllerLibrary.send("done",!0)},loadeddata:function(b){b.stopPropagation(),a.vgControllerLibrary.send("loaded",!0)},speedchange:function(b){b.stopPropagation(),a.vgControllerLibrary.send("speedchange",a.player.currentPlaybackRate())},error:function(b){b.stopPropagation(),a.vgControllerLibrary.send("error",!0)}}},a.prototype.clientEventListeners=function(){var a=this;return{play:function(b){a.player.play(b)},pause:function(){a.player.pause()},set_volume:function(b){a.player.volume(b)},mute:function(){a.player.muted(!a.player.muted())},ff:function(){a.player.currentTime(a.player.currentTime()+10)},rw:function(){a.player.currentTime(a.player.currentTime()-10)}}},a}),function(a){Modules.add("com.kollus.vgcontroller","KollusController",a)}(function(){"use strict";var a=function(a,b){this.vgControllerLibrary=a,this.player=b};return a.prototype.setPlayerEventListeners=function(a){var b=this.playerEventListeners();for(var c in b){(void 0!==a?a:this.player).on(c,b[c])}},a.prototype.setClientEventListeners=function(){var a=this.clientEventListeners();for(var b in a)this.vgControllerLibrary.on("c_"+b,a[b])},a.prototype.playerEventListeners=function(){var a=this;return{kollus_ready:function(b){a.vgControllerLibrary.send("ready",!0)},kollus_error:function(b){a.vgControllerLibrary.send("error",b.detail)},kollus_call_intent_uri:function(b){a.vgControllerLibrary.send("call_intent_uri",b.detail)}}},a.prototype.clientEventListeners=function(){var a=this;return{play:function(){a.player.play()}}},a}),function(a){Modules.add("com.kollus.vgcontroller","VgControllerServer",a)}(function(){"use strict";var a=Modules.get("com.kollus.utils","Util"),b=Modules.get("com.kollus.utils","Logger"),c=Modules.get("com.kollus.vgcontroller","VgControllerLibrary"),d=function(d,e){if(!e.hasOwnProperty("player_type"))throw new VgControllerException("player type is not defined.",-99);var f={V2:"v2",V3:"v3",V4:"v4",V5:"v5",FLASH:"flash",VIDEOJS:"videojs",KOLLUS:"kollus"},g={controller_type:"server",use_uid_check:!1,is_child:!0},h=this;this.player=d,this.player_type=e.player_type,this.main_media_subtitles=e.main_media_subtitles,this.main_media_subtitles_sub=e.main_media_subtitles_sub,this.vgControllerLibrary=new c(this.player,a.mergeObject(g,this.options));var i;switch(this.player_type){case f.FLASH:i=Modules.get("com.kollus.vgcontroller","FlashController");break;case f.V2:i=Modules.get("com.kollus.vgcontroller","V2Controller");break;case f.V3:i=Modules.get("com.kollus.vgcontroller","V3Controller");break;case f.V4:i=Modules.get("com.kollus.vgcontroller","V4Controller");break;case f.V5:i=Modules.get("com.kollus.vgcontroller","V5Controller");break;case f.VIDEOJS:i=Modules.get("com.kollus.vgcontroller","VideojsController");break;case f.KOLLUS:i=Modules.get("com.kollus.vgcontroller","KollusController")}this.controller=new i(this.vgControllerLibrary,this.player),b.setPrefix("Server"),b.setStyle("color: green; font-weight:bold;"),b.log("Waiting for connect to client..."),b.log("- Player type : "+this.player_type),this.vgControllerLibrary.initialize(function(){h.vgControllerLibrary.on("c_initialize",function(a){h.vgControllerLibrary.off("c_initialize"),h.vgControllerLibrary.send("initialized",h.player_type),h.player.vgControllerInitialized&&h.player.vgControllerInitialized(a),void 0!==h.main_media_subtitles&&h.vgControllerLibrary.send("fetch_main_media_subtitles",JSON.stringify(h.main_media_subtitles)),void 0!==h.main_media_subtitles_sub&&h.vgControllerLibrary.send("fetch_main_media_subtitles_sub",JSON.stringify(h.main_media_subtitles_sub))})}),this.controller.enableCloseEvent&&(document.onkeydown=function(a){if(h.controller.enableCloseEvent()){var b=a.keyCode?a.keyCode:a.which,c=a.target.nodeName.toLowerCase();8===b&&"input"!==c&&"textarea"!==c&&(a.preventDefault(),a.stopPropagation()),(116===b||114===b||82==b&&a.ctrlKey)&&(a.preventDefault(),a.stopPropagation())}},window.onbeforeunload=function(a){h.controller.enableCloseEvent()&&(a.preventDefault(),h.controller.closeCallbackFn(),b.log("onbeforeunload called."))})};return d.prototype.register_event_listeners=function(a){this.setEventListeners(a)},d.prototype.player_event_listeners=function(){return this.getEventListeners().player},d.prototype.setEventListeners=function(a){b.log("Set player and register event listeners"),this.controller.setPlayerEventListeners(a),this.controller.setClientEventListeners()},d.prototype.getEventListeners=function(){return{player:this.controller.playerEventListeners(),client:this.controller.clientEventListeners()}},d.prototype.setPlayerEventListeners=function(){this.controller.setPlayerEventListeners()},d.prototype.setClientEventListeners=function(){this.controller.setClientEventListeners()},d}),window.VgControllerServer=Modules.get("com.kollus.vgcontroller","VgControllerServer"),window.Kollus=window.Kollus||{},window.Kollus.VideogatewayControllee=Modules.get("com.kollus.vgcontroller","VgControllerServer");